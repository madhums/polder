(()=>{"use strict";var e,t={154:()=>{const e=window.wp.blocks,t=window.React,r=window.wp.i18n,i=window.wp.blockEditor,o=window.wp.components,n=(0,t.createElement)(o.SVG,{viewBox:"0 0 363 512",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(o.Path,{d:"M181.333 0C104.789.094 42.76 62.122 42.666 138.667V224c0 5.891 4.776 10.667 10.667 10.667H96c5.891 0 10.667-4.776 10.667-10.667v-85.333C106.666 97.429 140.096 64 181.333 64 222.57 64 256 97.429 256 138.667V224c0 5.891 4.776 10.667 10.667 10.667h42.666c5.891 0 10.667-4.776 10.667-10.667v-85.333C319.906 62.122 257.877.094 181.333 0Z",fill:"#455a64"}),(0,t.createElement)(o.Path,{d:"M53.333 213.333h256c29.455 0 53.333 23.878 53.333 53.333v192c0 29.456-23.878 53.334-53.333 53.334h-256C23.878 512 0 488.122 0 458.667v-192c0-29.456 23.878-53.334 53.333-53.334Z",fill:"#ffc107"}),(0,t.createElement)(o.Path,{d:"M134.156 277.687v170.997l134.354-85.499-134.354-85.498Z",fill:"#455a64"}));function c(e){return e.includes("?")&&(e=e.split("?")[0]),e.includes("/")&&(e=e.split("/")[0]),e.includes("&")&&(e=e.split("&")[0]),e}function a(e){var t=e;t=(t=t.replace(/#t=.*$/,"")).replace(/^https?:\/\//,"");var r=/youtube:\/\/|youtu\.be\/|y2u\.be\//g;if(r.test(t))return c(t.split(r)[1]);var i=/\/shorts\//g;if(i.test(t))return c(t.split(i)[1]);var o=/v=|vi=/g;if(o.test(t))return c(t.split(o)[1].split("&")[0]);var n=/\/v\/|\/vi\/|\/watch\//g;if(n.test(t))return c(t.split(n)[1]);var a=/\/an_webp\//g;if(a.test(t))return c(t.split(a)[1]);var l=/\/e\//g;if(l.test(t))return c(t.split(l)[1]);var s=/\/embed\//g;if(s.test(t))return c(t.split(s)[1]);if(!/\/user\/([a-zA-Z\d]*)$/g.test(t)){if(/\/user\/(?!.*videos)/g.test(t))return c(t.split("/").pop());var d=/\/attribution_link\?.*v%3D([^%&]*)(%26|&|$)/;return d.test(t)?c(t.match(d)[1]):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,o,n=[],_n=!0,c=!1;try{for(r=r.call(e);!(_n=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(e){c=!0,o=e}finally{try{_n||null==r.return||r.return()}finally{if(c)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function d(e){var t,r,i=e;if(i.includes("#")){var o=i.split("#");i=l(o,1)[0]}if(i.includes("?")&&!i.includes("clip_id=")){var n=i.split("?");i=l(n,1)[0]}var c=/https?:\/\/vimeo\.com\/event\/(\d+)$/.exec(i);if(c&&c[1])return c[1];var a=/https?:\/\/vimeo\.com\/(\d+)/.exec(i);if(a&&a[1])return a[1];var s=["https?://player.vimeo.com/video/[0-9]+$","https?://vimeo.com/channels","groups","album"].join("|");return new RegExp(s,"gim").test(i)?(r=i.split("/"))&&r.length>0&&(t=r.pop()):/clip_id=/gim.test(i)&&(r=i.split("clip_id="))&&r.length>0&&(t=l(r[1].split("&"),1)[0]),t}function u(e){var t=/https:\/\/vine\.co\/v\/([a-zA-Z\d]*)\/?/.exec(e);if(t&&t.length>1)return t[1]}function v(e){var t;if(e.includes("embed"))return t=/embed\/(\w{8})/,e.match(t)[1];t=/\/v\/(\w{8})/;var r=e.match(t);return r&&r.length>0?r[1]:void 0}function p(e){var t=(e.includes("embed")?/https:\/\/web\.microsoftstream\.com\/embed\/video\/([a-zA-Z\d-]*)\/?/:/https:\/\/web\.microsoftstream\.com\/video\/([a-zA-Z\d-]*)\/?/).exec(e);if(t&&t.length>1)return t[1]}function m(e){var t=/tiktok\.com(.*)\/video\/(\d+)/gm.exec(e);if(t&&t.length>2)return t[2]}function f(e){var t=/dailymotion\.com(.*)(video)\/([a-zA-Z\d]+)/gm.exec(e);if(t)return t[3];var r=/dai\.ly\/([a-zA-Z\d]+)/gm.exec(e);if(r&&r.length>1)return r[1];var i=/dailymotion\.com(.*)video=([a-zA-Z\d]+)/gm.exec(e);return i&&i.length>2?i[2]:void 0}const h=JSON.parse('{"u2":"protected-video/protected-video"}');(0,e.registerBlockType)(h.u2,{icon:n,edit:function({attributes:e,setAttributes:c}){const{videoUrl:l,videoId:s,videoService:h}=e;return(0,t.createElement)("div",{...(0,i.useBlockProps)()},(0,t.createElement)(o.Placeholder,{icon:(0,t.createElement)(i.BlockIcon,{icon:n}),label:(0,r.__)("Protected Video","protected-video"),instructions:(0,r.__)("Paste the URL of a YouTube or Vimeo video you want to display in a protected player.","protected-video")},(0,t.createElement)(o.TextControl,{label:(0,r.__)("Video URL","protected-video"),value:l,onChange:function(e){const{id:t,service:r}=function(e){if("string"!=typeof e)throw new TypeError("get-video-id expects a string");var t=e;/<iframe/gi.test(t)&&(t=function(e){if("string"!=typeof e)throw new TypeError("getSrc expected a string");var t=/src="(.*?)"/gm.exec(e);if(t&&t.length>=2)return t[1]}(t)||""),t=(t=(t=t.trim()).replace("-nocookie","")).replace("/www.","/");var r={id:null,service:null};if(/\/\/google/.test(t)){var i=t.match(/url=([^&]+)&/);i&&(t=decodeURIComponent(i[1]))}return/youtube|youtu\.be|y2u\.be|i.ytimg\./.test(t)?r={id:a(t),service:"youtube"}:/vimeo/.test(t)?r={id:d(t),service:"vimeo"}:/vine/.test(t)?r={id:u(t),service:"vine"}:/videopress/.test(t)?r={id:v(t),service:"videopress"}:/microsoftstream/.test(t)?r={id:p(t),service:"microsoftstream"}:/tiktok\.com/.test(t)?r={id:m(t),service:"tiktok"}:/(dailymotion\.com|dai\.ly)/.test(t)&&(r={id:f(t),service:"dailymotion"}),r}(e);c({videoUrl:e,videoId:t,videoService:r})},placeholder:(0,r.__)("e.g. https://youtu.be/c_hO_fjmMnk","protected-video")}),l&&(0,t.createElement)("div",null,s?function(){const e={youtube:`https://i.ytimg.com/vi/${s}/mqdefault.jpg`,vimeo:`https://vumbnail.com/${s}.jpg`};return(0,t.createElement)("img",{src:e[h],width:"320",height:"180",alt:(0,r.__)("Video thumbnail","protected-video")})}():(0,t.createElement)(o.Notice,{status:"error",isDismissible:!1},(0,r.__)("Sorry, a video ID could not be found in that URL.","protected-video")))))},save:function({attributes:e}){const{videoId:r,videoService:o}=e;return(0,t.createElement)("div",{...i.useBlockProps.save(),"data-id1":btoa(o),"data-id2":btoa(r)})}})}},r={};function i(e){var o=r[e];if(void 0!==o)return o.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,i),n.exports}i.m=t,e=[],i.O=(t,r,o,n)=>{if(!r){var c=1/0;for(d=0;d<e.length;d++){for(var[r,o,n]=e[d],a=!0,l=0;l<r.length;l++)(!1&n||c>=n)&&Object.keys(i.O).every((e=>i.O[e](r[l])))?r.splice(l--,1):(a=!1,n<c&&(c=n));if(a){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,o,n]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};i.O.j=t=>0===e[t];var t=(t,r)=>{var o,n,[c,a,l]=r,s=0;if(c.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(l)var d=l(i)}for(t&&t(r);s<c.length;s++)n=c[s],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(d)},r=globalThis.webpackChunkprotected_video=globalThis.webpackChunkprotected_video||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=i.O(void 0,[431],(()=>i(154)));o=i.O(o)})();